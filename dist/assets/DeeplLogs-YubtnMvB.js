import{b as v,T as N,r as g,U as f,j as e,V as y,W as L,X as D,Y as C,Z as w,_ as F,$ as o,a0 as k}from"./index-RqZR_ZIX.js";import{L as T}from"./Loader-zrXzeUC1.js";const P=()=>{const a=v(),{limit:n,page:l,totalPages:d,sourceLanguage:i,targetLanguage:c,endDate:x,startDate:h,minCharacters:p,maxCharacters:u}=N(),m=g.useRef(!0),{data:r,error:t,isLoading:j,refetch:b}=f({limit:n,page:l,sourceLanguage:i,targetLanguage:c,startDate:h,endDate:x,minCharacters:p,maxCharacters:u});return g.useEffect(()=>{m.current||b(),m.current=!1},[n,l]),j?e.jsx(T,{}):t?e.jsxs("p",{className:"text-red-500",children:["Error:"," ",t&&"data"in t?t.data.message:"An error occurred"]}):e.jsxs("div",{className:"mx-auto space-y-6 flex justify-center flex-col items-center w-11/12",children:[e.jsxs("div",{className:"bg-white p-4 rounded-md shadow-md flex flex-wrap gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"start-date",className:"text-sm font-semibold",children:"Start Date:"}),e.jsx("input",{type:"date",id:"start-date",className:"p-2 border rounded-md",value:h,onChange:s=>a(y(s.target.value))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"end-date",className:"text-sm font-semibold",children:"End Date:"}),e.jsx("input",{type:"date",id:"end-date",className:"p-2 border rounded-md",value:x,onChange:s=>a(L(s.target.value))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"language",className:"text-sm font-semibold",children:"Source Language:"}),e.jsxs("select",{id:"language",className:"p-2 border rounded-md",value:i,onChange:s=>a(D(s.target.value)),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ru",children:"Russian"}),e.jsx("option",{value:"uk",children:"Ukrainian"}),e.jsx("option",{value:"de",children:"German"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"it",children:"Italian"}),e.jsx("option",{value:"pt",children:"Portuguese"}),e.jsx("option",{value:"nl",children:"Dutch"}),e.jsx("option",{value:"pl",children:"Polish"}),e.jsx("option",{value:"zh",children:"Chinese"}),e.jsx("option",{value:"ja",children:"Japanese"}),e.jsx("option",{value:"ko",children:"Korean"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"target-language",className:"text-sm font-semibold",children:"Target Language:"}),e.jsxs("select",{id:"target-language",className:"p-2 border rounded-md",value:c,onChange:s=>a(C(s.target.value)),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ru",children:"Russian"}),e.jsx("option",{value:"uk",children:"Ukrainian"}),e.jsx("option",{value:"de",children:"German"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"it",children:"Italian"}),e.jsx("option",{value:"pt",children:"Portuguese"}),e.jsx("option",{value:"nl",children:"Dutch"}),e.jsx("option",{value:"pl",children:"Polish"}),e.jsx("option",{value:"zh",children:"Chinese"}),e.jsx("option",{value:"ja",children:"Japanese"}),e.jsx("option",{value:"ko",children:"Korean"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"min-characters",className:"text-sm font-semibold",children:"Min Characters:"}),e.jsx("input",{type:"number",id:"min-characters",className:"p-2 border rounded-md",value:p,onChange:s=>a(w(+s.target.value))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"max-characters",className:"text-sm font-semibold",children:"Max Characters:"}),e.jsx("input",{type:"number",id:"max-characters",className:"p-2 border rounded-md",value:u,onChange:s=>a(F(+s.target.value))})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[e.jsx("div",{className:"bg-white p-4 rounded-md shadow-md",children:e.jsxs("span",{className:"text-md font-semibold text-purple-500",children:["Total Requests: ",r==null?void 0:r.responseObject.totalRequests]})}),e.jsx("div",{className:"bg-white p-4 rounded-md shadow-md",children:e.jsxs("span",{className:"text-md font-semibold text-green-500",children:["Total Characters: ",r==null?void 0:r.responseObject.totalCharacters]})})]}),r.responseObject.logs.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Log ID"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Requested Text"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Translated text"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Source"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Target"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Characters Used"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Created At"})]})}),e.jsx("tbody",{children:r==null?void 0:r.responseObject.logs.map(s=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s._id}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.requestText}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.translatedText||"N/A"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.sourceLanguage}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.targetLanguage}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.charactersUsed}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:new Date(s.createdAt).toLocaleString()})]},s._id))})]})}),e.jsxs("div",{className:"flex space-x-4 mt-4",children:[e.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",onClick:()=>a(o(l>1?l-1:1)),disabled:l===1,children:"Previous"}),e.jsxs("span",{className:"px-4 py-2 text-lg font-semibold",children:["Page ",l," of ",d||1]}),e.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",onClick:()=>a(o(l<d?l+1:1)),disabled:l>=d,children:"Next"}),e.jsxs("div",{className:"px-4 py-2 bg-gray-300 rounded",children:[e.jsx("span",{children:"Items per page:"}),e.jsxs("select",{value:n,onChange:s=>{a(k(+s.target.value)),a(o(1))},className:"px-4 py-2 bg-gray-300 rounded",children:[e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"20",children:"20"}),e.jsx("option",{value:"50",children:"50"})]})]})]})]}):e.jsx("div",{className:"bg-white p-4 rounded-md shadow-md",children:e.jsx("span",{className:"text-md font-semibold text-red-500",children:"No logs found for the selected filters. You can try changing the filters or check back later."})})]})};export{P as default};
