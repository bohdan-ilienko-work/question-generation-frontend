import{j as e,r as f,a2 as v}from"./index-DjN2_nU2.js";const C=({label:r,name:o,type:d,value:u,selectOptions:l,options:h,onChange:t})=>{const s=a=>{const{value:m}=a.target;t(o,d==="number"?Number(m):m)};return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold",children:r}),d==="select"?e.jsx("select",{className:"p-2 border border-gray-400 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-blue-400",name:o,value:u,onChange:s,children:l==null?void 0:l.map(a=>e.jsx("option",{value:a,children:a},a))}):e.jsx("input",{className:"p-2 border border-gray-400 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-blue-400",type:d,name:o,value:u,onChange:s,...h})]})},k=({categories:r,selectedCategory:o,setSelectedCategory:d,handleTitleChange:u,handlePageChange:l,handleLimitChange:h,totalPages:t,page:s,limit:a,title:m})=>{const[c,x]=f.useState(!1),b=f.useRef(null),[p,{isLoading:g}]=v();f.useEffect(()=>{const n=i=>{b.current&&!b.current.contains(i.target)&&x(!1)};return c&&document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[c]);const j=async n=>{try{await p({categoryId:Number(n)}).unwrap()}catch(i){console.error("Failed to clear cache:",i),alert("Failed to clear cache")}};return e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("div",{className:"p-2 border border-gray-400 rounded-md text-black bg-white focus:ring-2 focus:ring-blue-400 cursor-pointer flex justify-between items-center",onClick:()=>x(!c),children:[e.jsx("span",{children:(o==null?void 0:o.name)||"Select category"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-5 h-5 transition-transform ${c?"rotate-180":""}`,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 9l-7.5 7.5L4.5 9"})})]}),c&&e.jsxs("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-md mt-1 p-3",children:[e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-400 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-blue-400 mb-2",placeholder:"Search category...",onChange:n=>u(n.target.value),value:m}),e.jsx("ul",{className:"max-h-40 overflow-y-auto",children:r==null?void 0:r.map(n=>e.jsxs("li",{className:"p-2 hover:bg-gray-200 cursor-pointer rounded flex justify-between items-center",onClick:()=>{d(n),x(!1)},children:[n.name,e.jsx("button",{className:"ml-2 text-red-500",onClick:i=>{i.stopPropagation(),j(n._id)},children:g?e.jsx("svg",{className:"animate-spin h-5 w-5 mr-2 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v1m0 14v1m8-10h-1m-14 0H4m16.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"})}):e.jsx("span",{children:"Clear Cache"})})]},n._id))}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 transition",disabled:s<=1,onClick:()=>l(s>1?s-1:1),children:"Previous"}),e.jsxs("span",{className:"text-gray-700",children:["Page ",s," of ",t]}),e.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 transition",onClick:()=>l(s<t?s+1:t),disabled:s>=t,children:"Next"}),e.jsxs("select",{className:"p-2 border border-gray-400 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-blue-400",value:a,onChange:n=>h(Number(n.target.value)),children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]})]})]})};var w=(r=>(r.OneChoice="choice",r.Map="map",r))(w||{});const y=({error:r})=>r?e.jsx("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-md",children:r}):null,L=({tokensUsed:r})=>r>0?e.jsxs("div",{className:"mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-md",children:["Total tokens used: ",r]}):null;export{k as C,y as E,C as I,w as Q,L as T};
